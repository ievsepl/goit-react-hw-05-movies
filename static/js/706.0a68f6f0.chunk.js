"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[706],{158:function(e,r,t){var n=t(4934),u=t(407),o=(0,n.Z)("div")(u.cp,u.Dh,u.$_,u.GQ,u.bK,u.Cg);r.Z=o},4126:function(e,r,t){t.d(r,{e:function(){return s}});var n=t(158),u=t(7689),o=t(1087),i=t(184),s=function(e){var r=e.askedMovies,t=(0,u.TH)();return console.log(t),(0,i.jsx)(n.Z,{as:"ul",children:r.map((function(e){var r=e.title,n=e.name,u=e.id;return(0,i.jsx)("li",{children:(0,i.jsx)(o.rU,{to:"/Movies/".concat(u),state:{from:t},children:null!==n&&void 0!==n?n:r})},u)}))})}},9706:function(e,r,t){t.r(r),t.d(r,{default:function(){return v}});var n=t(3433),u=t(9439),o=t(7596),i=t(2791),s=t(1087),l=t(158),a=t(4126),c=t(184),f=function(e){var r=e.inputValue,t=(0,s.lr)(),n=(0,u.Z)(t,2),i=n[0],a=n[1];return(0,c.jsx)(l.Z,{children:(0,c.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=e.currentTarget.query.value;if(""===t)return o.Am.error("Please write your query");a(""!==t?{filter:t,page:1}:{}),console.log(i),r(e.currentTarget.query.value),e.currentTarget.query.value=""},children:[(0,c.jsx)("input",{type:"text",name:"query"}),(0,c.jsx)("button",{type:"submit",children:"Search"})]})})},d=t(5541),v=function(){var e=(0,i.useState)([]),r=(0,u.Z)(e,2),t=r[0],v=r[1],h=(0,i.useState)(""),m=(0,u.Z)(h,2),g=m[0],p=m[1],y=(0,s.lr)(),j=(0,u.Z)(y,2),x=j[0],b=j[1],Z=(0,i.useState)("idle"),_=(0,u.Z)(Z,2),k=_[0],q=_[1],w=(0,i.useMemo)((function(){return Object.fromEntries((0,n.Z)(x))}),[x]),S=w.filter,T=w.page;console.log(g);(0,i.useEffect)((function(){""!==S&&void 0!==S&&(q("pending"),(0,d.Ob)(S,T).then((function(e){if(0===e.results.length)return o.Am.error("We have no movie by your query");e.results.length<20&&(o.Am.warn("There are no more images to load!"),q("idle")),v(e.results),q("resolved"),console.log(e.results)})))}),[S,T,g]);return(0,c.jsxs)(l.Z,{children:[(0,c.jsx)(f,{inputValue:function(e){p(e)}}),"resolved"===k?(0,c.jsx)(a.e,{askedMovies:t}):(0,c.jsx)("p",{children:"Write your query"}),"resolved"===k&&(0,c.jsx)("button",{type:"button",onClick:function(){b({filter:S,page:Number(T)+1})},children:"Load more"})]})}}}]);
//# sourceMappingURL=706.0a68f6f0.chunk.js.map